-- Create a RemoteEvent to broadcast sound to all clients
local SoundEvent = Instance.new("RemoteEvent")
SoundEvent.Name = "GlobalSoundEvent"
SoundEvent.Parent = game.ReplicatedStorage

-- Function to broadcast SoundId to all clients
local function playSoundOnClients(soundId)
    SoundEvent:FireAllClients(soundId) -- Broadcasts sound to all players
end

-- Hook into PlayerAdded for server-side control over sound
game.Players.PlayerAdded:Connect(function(player)
    -- Trigger the sound for the joining player
    playSoundOnClients("rbxassetid://17231958102")
end)

-- Client-side listener to play the sound
game.ReplicatedStorage.GlobalSoundEvent.OnClientEvent:Connect(function(soundId)
    local sound = Instance.new("Sound")
    sound.SoundId = soundId
    sound.Volume = 1
    sound.Looped = false
    sound.Parent = workspace
    sound:Play()
end)

-- Bypass attempt by directly overriding FilteringEnabled if necessary (hypothetical)
local function bypassFilteringEnabled()
    -- Ensure game.FilteringEnabled is a valid table before applying setmetatable
    if type(game) == "table" then
        setmetatable(game, {
            __index = function(_, k)
                if k == "FilteringEnabled" then
                    return false -- Override to disable FilteringEnabled
                end
                return rawget(game, k)
            end
        })
    else
        warn("game is not a table, cannot apply metatable.")
    end
end

-- Initialize the bypass and trigger the sound globally
bypassFilteringEnabled()
playSoundOnClients("rbxassetid://17231958102")
